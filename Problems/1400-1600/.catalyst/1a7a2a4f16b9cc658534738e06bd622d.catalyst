{"title":{"en":"C. Divisibility by Eight","ru":"C. Делимость на восемь"},"contestId":"550","problemIndex":"C","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You are given a non-negative integer <span class=\"tex-span\"><i>n</i></span>, its decimal representation consists of at most <span class=\"tex-span\">100</span> digits and doesn't contain leading zeroes.</p><p>Your task is to determine if it is possible in this case to remove some of the digits (possibly not remove any digit at all) so that the result contains at least one digit, forms a non-negative integer, doesn't have leading zeroes and is divisible by 8. After the removing, it is forbidden to rearrange the digits.</p><p>If a solution exists, you should print it.</p>","ru":"<p>Дано целое неотрицательное число <span class=\"tex-span\"><i>n</i></span>, запись которого состоит из не более, чем <span class=\"tex-span\">100</span> цифр, и не содержит ведущих незначащих нулей.</p><p>Нужно определить, можно ли в данном числе вычеркнуть некоторое (возможно нулевое) количество цифр так, чтобы полученное после вычеркивания цифр число содержало хотя бы одну цифру, было неотрицательным, не имело ведущих незначащих нулей и делилось на 8. После вычеркивания переставлять цифры запрещается.</p><p>Если решение существует, необходимо вывести его.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The single line of the input contains a non-negative integer <span class=\"tex-span\"><i>n</i></span>. The representation of number <span class=\"tex-span\"><i>n</i></span> doesn't contain any leading zeroes and its length doesn't exceed <span class=\"tex-span\">100</span> digits. </p>","ru":"<div class=\"section-title\">Входные данные</div><p>В единственной строке входных данных содержится целое неотрицательное число <span class=\"tex-span\"><i>n</i></span>. Запись числа <span class=\"tex-span\"><i>n</i></span> не содержит ведущих незначащих нулей и ее длина не превосходит <span class=\"tex-span\">100</span> цифр. </p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print \"<span class=\"tex-font-style-tt\">NO</span>\" (without quotes), if there is no such way to remove some digits from number <span class=\"tex-span\"><i>n</i></span>. </p><p>Otherwise, print \"<span class=\"tex-font-style-tt\">YES</span>\" in the first line and the resulting number after removing digits from number <span class=\"tex-span\"><i>n</i></span> in the second line. The printed number must be divisible by <span class=\"tex-span\">8</span>.</p><p>If there are multiple possible answers, you may print any of them.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите \"<span class=\"tex-font-style-tt\">NO</span>\" (без кавычек), если искомого способа вычеркнуть некоторые цифры из числа <span class=\"tex-span\"><i>n</i></span> не существует. </p><p>Иначе выведите \"<span class=\"tex-font-style-tt\">YES</span>\" в первой строке и число, получившееся в результате вычеркивания некоторых цифр числа <span class=\"tex-span\"><i>n</i></span>, во второй строке. Выведенное число должно делиться на <span class=\"tex-span\">8</span>.</p><p>Если возможных ответов несколько, требуется вывести любой из них.</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1651581263918,"input":"3454\n","output":"YES\n344\n","result":{"id":1651581263918,"stdout":"YES\r\n344\r\n","stderr":"","exitcode":0,"signal":null,"time":643,"timeout":false}},{"id":1651581263919,"input":"10\n","output":"YES\n0\n","result":{"id":1651581263919,"stdout":"YES\r\n0\r\n","stderr":"","exitcode":0,"signal":null,"time":22,"timeout":false}},{"id":1651581263920,"input":"111111\n","output":"NO\n","result":{"id":1651581263920,"stdout":"NO\r\n","stderr":"","exitcode":0,"signal":null,"time":22,"timeout":false}}],"submitUrl":"https://codeforces.com/problemset/submit","language":"c++","langId":"50","editorial":"<div><p>This problem can be solved with at least two different approaches. </p><p>The first one is based on the \"school\" property of the divisibility by eight — number can be divided by eight if and only if its last three digits form a number that can be divided by eight. Thus, it is enough to test only numbers that can be obtained from the original one by crossing out and that contain at most three digits (so we check only all one-digit, two-digit and three-digit numbers). This can be done in <span class=\"tex-span\"><i>O</i>(<i>len</i><sup class=\"upper-index\">3</sup>)</span> with three nested loops (here <span class=\"tex-span\"><i>len</i></span> is the length of the original number).</p><p>Second approach uses dynamic programming. Let's calculate <span class=\"tex-span\"><i>dp</i>[<i>i</i>][<i>j</i>]</span>, <span class=\"tex-span\">1 ≤ <i>i</i> ≤ <i>n</i></span>, <span class=\"tex-span\">0 ≤ <i>j</i> &lt; 8</span>. The value of dp is true if we can cross out some ditits from the prefix of length <span class=\"tex-span\"><i>i</i></span> such that the remaining number gives <span class=\"tex-span\"><i>j</i></span> modulo eight, and false otherwise. </p><p>This dp can be calculated in the following way: let <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> be <span class=\"tex-span\"><i>i</i></span>th digit of the given number. Then <span class=\"tex-span\"><i>dp</i>[<i>i</i>][<i>a</i><sub class=\"lower-index\"><i>i</i></sub>&nbsp;<i>mod</i>&nbsp;8] = 1</span> (just this number). For all <span class=\"tex-span\">0 ≤ <i>j</i> &lt; 8</span> <span class=\"tex-span\"><i>dp</i>[<i>i</i>][(<i>j</i> * 10 + <i>a</i><sub class=\"lower-index\"><i>i</i></sub>)&nbsp;<i>mod</i>&nbsp;8] = <i>max</i>(<i>dp</i>[<i>i</i>][(<i>j</i> * 10 + <i>a</i><sub class=\"lower-index\"><i>i</i></sub>)&nbsp;<i>mod</i>&nbsp;8], <i>dp</i>[<i>i</i> - 1][<i>j</i>])</span> (we add current digit to some previous result), <span class=\"tex-span\"><i>dp</i>[<i>i</i>][(<i>j</i> * 10)&nbsp;<i>mod</i>&nbsp;8] = <i>max</i>(<i>dp</i>[<i>i</i>][(<i>j</i> * 10)&nbsp;<i>mod</i>&nbsp;8], <i>dp</i>[<i>i</i> - 1][<i>j</i>])</span> (we cross out current digit). </p><p>Answer is \"<span class=\"tex-font-style-tt\">YES</span>\" if <span class=\"tex-span\"><i>dp</i>[<i>i</i>][0] = 1</span> for some position <span class=\"tex-span\"><i>i</i></span>. For restoring the answer we need to keep additional array <span class=\"tex-span\"><i>prev</i>[<i>i</i>][<i>j</i>]</span>, which will say from where current value was calculated. Complexity of such solution is <span class=\"tex-span\"><i>O</i>(8·<i>len</i>)</span> (again <span class=\"tex-span\"><i>len</i></span> is the length of the original number).</p></div>"}